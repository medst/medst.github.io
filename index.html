
<!DOCTYPE html>
<html lang="ar-MA">
<head>
    <title>rifmap</title>
	<meta name="keywords" content="الهزات الأرضية،rif map،rifmap.com،الزلزال،الزلازل،موقع لمتابعة زلازل الريف،زلزال الريف، الناظور، الدريوش، الحسيمة،زلزال الحسيمة،البوران،ميضار">
	<meta name="msvalidate.01" content="F43B77BE6B92D3ECD51974E0E773698B" />
    <meta name="description" content="rif map موقع ريفي خاص بإحصائيات الزلازل بالريف خاصة اقاليم الحسيمة والناظور والدريوش.">
    <meta charset="utf-8">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <link rel="shortcut icon" href="images/earthquake/icon.png" />
    <link href="css/style.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-6QH1CRXREB"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-6QH1CRXREB');
	</script>
    <style type="text/css">
        body { background: #DDDADA !important; } 
    </style>
</head>

<body>
       <nav dir="rtl" class="navbar navbar-inverse">
	  <a class="navbar-brand" href="/" style="color: white;"><img src="images/earthquake/rifmap.png" alt="rifmap" height="30px" style="margin-top: -4px;margin-left: -10px;"></a>
          <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#mynav">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="collapse navbar-collapse" id="mynav">
              <ul class="nav navbar-nav navbar-right" style="padding-inline-start: 0px !important;">
                <li><a href="contactus.html"><b>إتصل بنا</b></a></li>
                <li><a href="services.html"><b>خدمات</b></a></li>
                <li><a href="advice.html"><b>نصائح واجراءت</b></a></li>
                <li><a href="howitwork.html"><b>كيف يعمل الموقع؟</b></a></li>
                <li class="active"><a href="/"><b>الرئيسية</b></a></li>
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </nav>
	<style>
            .rev {
                transform: rotate(180deg);
            }
            .rev > li {
                transform: rotate(-180deg);
            }
        </style>
        <script>
            var rev = document.getElementsByClassName('navbar-nav');
            if(window.innerWidth < 768) rev[0].className += " rev";
        </script>
    <div class="container">
        <div dir="rtl" class="row">
            <div class="col-md-12 isa_success">
		    <div>
			<p class="lead" style="display: inline-block;font-size: x-large;">للتوصل بالاشعارات عند حدوث الزلازل بمنطقة الريف. قم بتحميل تطبيقنا على</p>
			<a target="_blank" href="https://play.google.com/store/apps/details?id=com.rifmap.app"><img style="display: inline-block;margin-bottom: 14px;margin-right: 5px;" src="/images/earthquake/playstore.png" alt="rifmap play store app" width="150px" height="auto"/></a>
		    </div>
<!--                 <font size="4">كيف يعمل الموقع : <a href="howitwork.html">إضغط هنا</a></font>  -->
            </div>
        </div>
        <hr class="soften" />
        <div class="row" style="background-color:white">
            <div class="col-md-7 ">
                <br>
            <div id="map" style="height: 430px;"></div>
                <br>
            </div>
            <div class="col-md-5 ">
                <div class="table-responsive">    
                    <table id="arrestedDevelopment" class="table">
                        <thead>
                          <tr>
                            <th>العمق</th>
                            <th>الشدة</th>
                            <th>التاريخ</th>
                            <th>المكان</th>
                            <th>درجة الهزة</th>
                          </tr>
                        </thead>
                        <tbody>
                        </tbody>
		</table>
                </div>
                <div dir="rtl" align="center" style="margin-bottom: 10px;"> 
                     <b>&ensp;هزة قوية&ensp;</b>
                     <img src="images/earthquake/red.png" alt="rifmap" width="20px" height="20px">
                     <b>&ensp;هزة متوسطة&ensp;</b>
                     <img src="images/earthquake/warning.png" alt="rifmap" width="17px" height="17px">
                     <b>&ensp;هزة ضعيفة&ensp;</b>
                     <img src="images/earthquake/blue.png" alt="rifmap" width="17px" height="17px">
                     <b>&ensp;هزة عادية&ensp;</b>
                     <img src="images/earthquake/white.png" alt="rifmap" width="18px" height="18px">
		</div>
            </div>
        </div>	   
	    
	    <br/>

        <div class="container row" dir="rtl">
	    <h1 class="isa_success" style="text-align: center;">مرحبا بكم في موقع rifmap</h1>
            <p class="lead isa_success">
                ريف ماب (rif map) موقع خاص بمنطقة الريف. يهدف إلى تشكيل مجتمع إفتراضي ريفي في الويب.
            </p>
            <p class="lead isa_success">
                هذا الموقع (rif map) مخصص لحد الأن لعرض أماكن الهزات الأرضية وتاريخ حدوثها وأيضاً شدتها على مقياس ريختر. وذلك ليأخد المجتمع الريفي كامل احتياطاته عند حدوث الزلازل.
            </p>
            <p class="lead isa_success">
                يتم العمل مستقبلاً على :
            </p>
            <p class="lead isa_success">
                - إضافة موسيقى وأغاني ريفية إلى الموقع 
                <br/>
                - إضافة خاصية نشر صور و جيف(صور متحركة) و فديويات باللغة الريفية في الموقع  و مشاركتها
                <br/>
                - إضافة الأخبار المحلية إلى الموقع 
                <br/>
                - إضافة خاصية التسوق الإلكتروني في الموقع 
            </p>
        </div>
       
    <footer class="footer-basic-centered">

			<p class="footer-company-motto">Rif Map.</p>

			<p class="footer-links">
				<a href="contactus.html">إتصل بنا</a>
				·
				<a href="services.html">خدمات</a>
				·
				<a href="/">الرئيسية</a>
			</p>

			<p class="footer-company-name">Rif Map &copy; 2021</p>

    </footer>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="js/scroll.js"></script>
        <script src="https://maps.google.com/maps/api/js?key=AIzaSyBKKrQDHFquQd6gOR7yDWc2HvM3P03gPyo"
            type="text/javascript"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script>
            var locations;
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 8,
                center: new google.maps.LatLng(35.5637, -3.6157),
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                streetViewControl: false,
                mapTypeControl: false
            });
            var marker, i;
            var markers = {};
            function getCircle(magnitude, color) {
                var circle = {
                    path: google.maps.SymbolPath.CIRCLE,
                    fillColor: color,
                    fillOpacity: .7,
                    scale: Math.pow(2, magnitude) / 2,
                    strokeColor: 'white',
                    strokeWeight: .5
                };
                return circle;
            }
            function zoom(j) {
                if(window.innerWidth < 768) $("html, body").animate({ scrollTop: 150 }, "slow");
                map.panTo(markers[j].getPosition());
                for (var i = 0; i < locations.length; i++)
                    markers[i].setIcon(getCircle(locations[i][2], 'red'));
                markers[j].setIcon('images/earthquake/pen_move.gif');
                // map.setZoom(10);
            }
            function addInfoWindow(marker, message) {

                var infoWindow = new google.maps.InfoWindow({
                    content: message
                });

                google.maps.event.addListener(marker, 'click', function () {
                    infoWindow.open(map, marker);
                });
            }
            (async function fetchData() {
                const json = await fetch('https://api.rifmap.com/data.json');
                let data = await json.json();
                data = data.features;
                locations = new Array(data.length)
                for (i = 0; i < data.length; i++)
                    locations[i] = new Array(7);
                var table = '';
                for (var i = 0; i < data.length; i++) {
                    var values = [];
                    var tr = "";
                    values[6] = data[i].properties.typeplot;
                    values[5] = '<td>' + data[i].properties.mag + " " + data[i].properties.magtype + '</td>';
                    values[1] = data[i].geometry.coordinates[0] + ',' + data[i].geometry.coordinates[1];
                    values[2] = '<td> ' + data[i].properties.loc.replace('MAC', '').replace('.', '').replace('_', ' ') + '</td>';
                    values[3] = '<td>' + data[i].properties.fecha + '</td>';
                    if (data[i].properties.intensidad.replace(/ /g, '').length != 0)
                        values[4] = '<td>' + data[i].properties.intensidad + '</td>';
                    else
                        values[4] = '<td>-</td>';
                    if (data[i].properties.depth.length != 0)
                        values[0] = '<td>' + data[i].properties.depth + '</td>';
                    else
                        values[0] = '<td>-</td>';
                    locations[i][0] = data[i].geometry.coordinates[1];
                    locations[i][1] = data[i].geometry.coordinates[0];
                    locations[i][2] = data[i].properties.mag;
                    locations[i][3] = data[i].properties.magtype;
                    locations[i][4] = values[2];
                    locations[i][5] = data[i].properties.fecha;
                    locations[i][6] = values[6];
                    if (values[6] >= 3)
                        tr = '<tr onclick="zoom(' + i + ')" style="cursor:pointer" class="isa_error">';
                    else if (values[6] == 2)
                        tr = '<tr onclick="zoom(' + i + ')" style="cursor:pointer" class="isa_warning">';
                    else if (values[6] == 1)
                        tr = '<tr onclick="zoom(' + i + ')" style="cursor:pointer;" class="isa_info">';
                    else
                        tr = '<tr onclick="zoom(' + i + ')" style="cursor:pointer">';
                    table += tr + values[0] + values[4] + values[3] + values[2] + values[5] + '</tr>';
                }
                $('tbody').append(table);
                for (i = 0; i < locations.length; i++) {
                    var contentString = '<h2 dir="rtl">' + locations[i][4] + '</h2><h4 dir="rtl">التاريخ : ' + locations[i][5] + '</h4>'
                        + '<h3 align="center">' + locations[i][2] + '<small>' + locations[i][3] + '</small></h3>';
                    marker = new google.maps.Marker({
                        position: new google.maps.LatLng(locations[i][0], locations[i][1]),
                        map: map,
                        icon: getCircle(locations[i][2], 'red'),
                        optimized: false
                    });
                    markers[i] = marker;
                    addInfoWindow(markers[i], contentString);
                }
                markers[0].setIcon('images/earthquake/pen_move.gif');
                $(function () { $('#arrestedDevelopment').scrollTableBody({ rowsToDisplay: 10 }); });
            })();
        </script>
</body>

</html>
